<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Dashboard- Gyanendra.tech</title>
    <!-- Font Awesome -->

    <link
      rel="stylesheet"
      type="text/css"
      href="/fontawesome-free-5.8.1-web/css/all.css"
    />
    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Material Design Bootstrap -->
    <link href="/css/mdb.min.css" rel="stylesheet" />
    <!-- Your custom styles (optional) -->
    <link href="/css/style.css" rel="stylesheet" />

    <!-- Main Quill library -->
    <script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>

    <!-- Theme included stylesheets -->
    <link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
    <link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet" />
    <style>
      
      #editor {
        height: 350px;
      }
    </style>
  </head>

  <body>
    <!-- Start your project here-->
    <!-- navigation menu -->
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <a href="/admin" class="navbar-brand text-warning"
        >&nbsp;&nbsp; <i class="fab fa-apple"></i>Dashboard</a
      >
      <button class="navbar-toggler" data-toggle="collapse" data-target="#menu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="menu">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="/admin" class="nav-link">
              <i class="fas fa-chart-bar"></i> Dashboard</a
            >
          </li>
          <li class="nav-item">
            <a href="" class="nav-link">
              <i class="fas fa-list-ul"></i> Posts</a
            >
          </li>
          <li class="nav-item">
            <a href="" class="nav-link">
              <i class="fas fa-network-wired"></i> Categories</a
            >
          </li>
          <li class="nav-item">
            <a href="" class="nav-link"> <i class="fas fa-users"></i> Users</a>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <div class="dropdown">
              <a
                href=""
                class="nav-link dropdown-toggle"
                data-toggle="dropdown"
              >
                <i class="fas fa-id-badge"></i> <% User.name %>  </a
              >
              <div class="dropdown-menu">
                <a href="#" class="dropdown-item">Profile</a>
                <a href="#" class="dropdown-item">Settings</a>
                <a href="#" class="dropdown-item">Change Themes</a>
                <a href="#" class="dropdown-item">About us</a>
              </div>
            </div>
          </li>
          <li class="nav-item">
            <a href="/admin/logout" class="nav-link">
              <i class="fas fa-sign-out-alt"></i> Logout</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <!-- navigation menu ends here -->
    
    <div class="container my-3">
      <div class="row">
      <div class="col-md-8">
        <form
          action="/posts/edit"
          class="form-group"
          method="post"
          enctype="multipart/form-data"
        >
          <h5><strong>Post Title</strong></h5>
          <input
            class="form-control mb-4"
            id="title"
            type="text"
            name="title"
            value="<%= Post.title %>"
            required
          />
          <input type="hidden" value=<%= Post._id %> name="postID" >
          <h5><strong>Change display image</strong></h5>
          <input
            type="file"
            class="form-control mb-4"
            name="image"
            id=""
          />
          <h5><strong>Add Category</strong></h5>
          <select
            id="category"
            class="form-control mb-4"
            name="category"
            required
          >
            <% Category.map(category=>{ %>
                <% if(category == Post.category) { %> 
            <option value="<%= category %>" selected><%= category %> </option>
                <% } else { %> 
                    <option value="<%= category %>"><%= category %> </option>
                <% } %> 
            <% }) %>
          </select>
          <h5><strong>Write your post</strong></h5>
          <div id="editor">
            <%- Post.content %> 
          </div>
          <textarea
            name="content"
            id="detail"
            cols="30"
            style="display: none;"
            rows="10"
           
            required
          ></textarea>
          <button type="submit" class="btn btn-primary">ADD POST</button>
        </form>
      </div>

    <div class="col-md-4 mt-4">
      <div class="card">
        <div class=" bg-primary text-white p-4">
          <i class="fas fa-list-ul fa-6x"></i>
          <h2 class="float-right font-weight-bold" style="font-size: 50px; text-align: center;">08 <span class="d-block">Posts</span></h2>
        </div>
        <div class="card-footer text-primary">
          <h6 class="text-center"><a href=""> View Details
          <i class="fas fa-arrow-alt-circle-right"></i></h6></a>
        </div>
      </div>
      <div class="card mt-5">
        <div class=" bg-success text-white p-4 ">
          <i class="fas fa-list-ul fa-6x"></i>
          <h2 class="float-right font-weight-bold" style="font-size: 40px; text-align: center;">04 <span class="d-block">Categories</span></h2>
        </div>
        <div class="card-footer text-primary">
          <h6 class="text-center"><a href=""> View Details
          <i class="fas fa-arrow-alt-circle-right"></i></h6></a>
        </div>
      </div>
      <div class="card mt-5">
        <div class=" bg-warning text-white p-4 ">
          <i class="fas fa-list-ul fa-6x"></i>
          <h2 class="float-right font-weight-bold" style="font-size: 50px; text-align: center;">20 <span class="d-block">Users</span></h2>
        </div>
        <div class="card-footer text-warning">
          <h6 class="text-center"><a href=""> View Details
          <i class="fas fa-arrow-alt-circle-right"></i></h6></a>
        </div>
      </div>
  </div> 
</div>
</div>

    <!-- footer start -->
    <footer class="bg-light text-dark p-5 mt-2">
      Copyright 2020: All Rights Reserved
    </footer>
    <!-- footer ends here -->
    <!-- /Start your project here-->
    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="/js/mdb.min.js"></script>
    <!-- quiljs -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <!-- CloudFare CDN -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>

    <!-- Initialize Quill editor -->
    <script>
      var quill = new Quill("#editor", {
        modules: {
          syntax: true,    
          toolbar: [
            ["bold", "italic", "underline", "strike"], // toggled buttons
            ["blockquote", "image", "video", "code-block"],

            [{ header: 1 }, { header: 2 }], // custom button values
            [{ list: "ordered" }, { list: "bullet" }],
            [{ script: "sub" }, { script: "super" }], // superscript/subscript
            [{ indent: "-1" }, { indent: "+1" }], // outdent/indent
            [{ direction: "rtl" }], // text direction

            [{ size: ["small", false, "large", "huge"] }], // custom dropdown
            [{ header: [1, 2, 3, 4, 5, 6, false] }],

            [{ color: [] }, { background: [] }], // dropdown with defaults from theme
            [{ font: [] }],
            [{ align: [] }],

            ["clean"], // remove formatting button
          ],
        },
        placeholder: "Compose an epic...",
        theme: "snow", // or 'bubble'
      });
      quill.on("text-change", function (delta, oldDelta, source) {
        console.log(quill.container.firstChild.innerHTML);
        $("#detail").val(quill.container.firstChild.innerHTML);
      });
    </script>
  </body>
</html>
